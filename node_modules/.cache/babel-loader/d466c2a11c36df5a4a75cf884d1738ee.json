{"ast":null,"code":"import _objectSpread from \"/Users/mac/Desktop/React Projects/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/mac/Desktop/React Projects/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport default function useApplicationData() {\n  const _useState = useState({\n    day: \"Monday\",\n    days: [],\n    appointments: {},\n    interviewers: {}\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1]; //This function will set the day inside the useState above\n\n\n  const setDay = day => {\n    return setState(_objectSpread({}, state, {\n      day\n    }));\n  };\n\n  useEffect(() => {\n    const dayURL = \"/api/days\";\n    const appointmentURL = \"/api/appointments\";\n    const interviewersURL = \"/api/interviewers\";\n    Promise.all([axios.get(dayURL), axios.get(appointmentURL), axios.get(interviewersURL)]).then(all => {\n      setState(prev => _objectSpread({}, prev, {\n        days: all[0].data,\n        appointments: all[1].data,\n        interviewers: all[2].data\n      }));\n    });\n  }, []); //find the day\n\n  function findDay(day) {\n    const daysOfWeek = {\n      Monday: 0,\n      Tuesday: 1,\n      Wednesday: 2,\n      Thursday: 3,\n      Friday: 4\n    };\n    return daysOfWeek[day];\n  } //function to book an interview\n\n\n  function bookInterview(id, interview) {\n    const appointment = _objectSpread({}, state.appointments[id], {\n      interview: _objectSpread({}, interview)\n    });\n\n    const appointments = _objectSpread({}, state.appointments, {\n      [id]: appointment\n    });\n\n    const dayOfWeek = findDay(state.day);\n\n    let day = _objectSpread({}, state.days[dayOfWeek], {\n      spots: state.days[dayOfWeek]\n    });\n\n    if (!state.appointments[id].interview) {\n      day = _objectSpread({}, state.days[dayOfWeek], {\n        spots: state.days[dayOfWeek].spots - 1\n      });\n    } else {\n      day = _objectSpread({}, state.days[dayOfWeek], {\n        spots: state.days[dayOfWeek].spots\n      });\n    }\n\n    let days = state.days;\n    days[dayOfWeek] = day;\n    const url = \"/api/appointments/\".concat(id);\n    return axios.put(url, appointment).then(() => {\n      setState(_objectSpread({}, state, {\n        appointments,\n        days\n      }));\n    });\n  } //function to cancel the interview\n\n\n  function cancelInterview(id) {\n    const appointment = _objectSpread({}, state.appointments[id], {\n      interview: null\n    });\n\n    const appointments = _objectSpread({}, state.appointments, {\n      [id]: appointment\n    });\n\n    const dayOfWeek = findDay(state.day);\n\n    const day = _objectSpread({}, state.days[dayOfWeek], {\n      spots: state.days[dayOfWeek].spots + 1\n    });\n\n    let days = state.days;\n    days[dayOfWeek] = day;\n    const url = \"http://localhost:8001/api/appointments/\".concat(id);\n    return axios.delete(url, appointment).then(() => {\n      setState(_objectSpread({}, state, {\n        appointments,\n        days\n      }));\n    });\n  }\n\n  return {\n    state,\n    setDay,\n    bookInterview,\n    cancelInterview\n  };\n}","map":{"version":3,"sources":["/Users/mac/Desktop/React Projects/project/src/hooks/useApplicationData.js"],"names":["useState","useEffect","axios","useApplicationData","day","days","appointments","interviewers","state","setState","setDay","dayURL","appointmentURL","interviewersURL","Promise","all","get","then","prev","data","findDay","daysOfWeek","Monday","Tuesday","Wednesday","Thursday","Friday","bookInterview","id","interview","appointment","dayOfWeek","spots","url","put","cancelInterview","delete"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\n\nexport default function useApplicationData() {\n\n  const [state, setState] = useState({\n    day: \"Monday\",\n    days: [],\n    appointments: {},\n    interviewers: {}\n  });\n\n\n\n  //This function will set the day inside the useState above\n  const setDay = day => {\n    return setState({ ...state, day })\n  };\n\n  useEffect(()=>{\n    const dayURL = \"/api/days\";\n    const appointmentURL = \"/api/appointments\";\n    const interviewersURL = \"/api/interviewers\";\n    Promise.all([\n      axios.get(dayURL),\n      axios.get(appointmentURL),\n      axios.get(interviewersURL)\n    ]).then((all) =>{\n      setState(prev=>({...prev, days:all[0].data, appointments:all[1].data, interviewers:all[2].data}));\n    })\n  },[]);\n\n  //find the day\n  function findDay(day) {\n    const daysOfWeek = {\n      Monday: 0,\n      Tuesday: 1,\n      Wednesday: 2,\n      Thursday: 3,\n      Friday: 4\n    }\n    return daysOfWeek[day]\n  }\n\n\n    //function to book an interview\n    function bookInterview(id, interview) {\n      const appointment = {\n        ...state.appointments[id],\n        interview: { ...interview }\n      };\n  \n      const appointments = {\n        ...state.appointments,\n        [id]: appointment\n      };\n\n      const dayOfWeek = findDay(state.day)\n      let day = {\n        ...state.days[dayOfWeek],\n        spots: state.days[dayOfWeek]\n      }\n  \n      if (!state.appointments[id].interview) {\n        day = {\n          ...state.days[dayOfWeek],\n          spots: state.days[dayOfWeek].spots - 1\n        } \n      } else {\n        day = {\n          ...state.days[dayOfWeek],\n          spots: state.days[dayOfWeek].spots\n        } \n      }\n  \n      let days = state.days\n      days[dayOfWeek] = day;\n  \n  \n      const url =`/api/appointments/${id}`;\n      return axios.put(url, appointment).then(() => {\n        setState({...state, appointments,days});\n      })\n    }\n\n\n      //function to cancel the interview\n  function cancelInterview(id){\n    const appointment = {\n      ...state.appointments[id],\n      interview: null\n    };\n    const appointments = {\n      ...state.appointments,\n      [id]: appointment\n    };\n\n    const dayOfWeek = findDay(state.day)\n\n    const day = {\n      ...state.days[dayOfWeek],\n      spots: state.days[dayOfWeek].spots + 1\n    }\n\n    let days = state.days\n    days[dayOfWeek] = day;\n\n    const url =`http://localhost:8001/api/appointments/${id}`;\n  \n    return axios.delete(url, appointment).then(()=>{\n      setState({...state, appointments, days });\n    });\n  }\n\n  return {\n    state, \n    setDay,\n    bookInterview,\n    cancelInterview\n  }\n\n\n\n\n}"]},"metadata":{},"sourceType":"module"}